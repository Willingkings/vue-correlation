<div id="app"></div>
<script>
    const obj = {}
    function defineReactive(obj, key, val) {
        Object.defineProperty(obj, key, {
            get() {
                console.log(`get ${key}:${val}`);
                web全栈架构师
                return val
            },
            set(newVal) {
                if (newVal !== val) {
                    val = newVal
                    // 通知视图去更新
                    update();
                }
            }
        })
    }
    defineReactive(obj, 'foo', '')
    obj.foo = new Date().toLocaleTimeString()
    // 更新函数： 描述了视图内容
    // 更新函数不应该自己写：编译器将模板转换出来的
    // 全量更新：更新函数能够精确的定位具体的dom元素，或者利用vdom，比对得到dom操作
    function update() {
        app.innerText = obj.foo;
        //  todo...
    }
    setInterval(() => {
        obj.foo = new Date().toLocaleTimeString()
    }, 1000);


</script>